<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Unidad en los RRCC ‚Äî Puzzle visual</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="color-scheme" content="light dark">
<style>
:root { --maxw: 700px; --pad: 20px; --bg:#fff; --fg:#111; --brand:#1e88e5; }
@media (prefers-color-scheme: dark){ :root{ --bg:#0e0f12; --fg:#f2f2f2; --brand:#64b5f6; } }
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Arial,sans-serif;}
.wrap{max-width:var(--maxw);margin:0 auto;padding:var(--pad);}
h1{margin:0 0 12px;color:var(--brand)}
.card{border:1px solid #ddd;border-radius:12px;padding:16px;background:rgba(255,255,255,0.6);backdrop-filter:saturate(120%) blur(2px);}
@media (prefers-color-scheme: dark){ .card{ border-color:#2a2a2a; background:rgba(20,20,20,0.6);} }
button{min-height:44px;min-width:44px;padding:10px 16px;border-radius:10px;border:1px solid transparent;background:var(--brand);color:#fff;font-weight:600}
button:active{transform:scale(0.98)}
input,select,textarea{min-height:44px;padding:10px 12px;width:100%;border-radius:10px;border:1px solid #ccc;background:#fff;color:#111}
@media (prefers-color-scheme: dark){ input,select,textarea{background:#151515;color:#eee;border-color:#333} }
img{max-width:100%;height:auto}
.grid{display:grid;gap:12px}
.mt{margin-top:14px}
footer{margin-top:24px;font-size:14px;opacity:.8}
</style>
</head>
<body>
<main class="wrap">
<h1>Unidad en los RRCC ‚Äî Puzzle visual</h1>

<section class="card grid">
<p><strong>Objetivos de aprendizaje:</strong></p>
<ul>
<li>Comprender los distintos tipos de unidad logrados por los Reyes Cat√≥licos (din√°stica, territorial, pol√≠tica, religiosa y ling√º√≠stica).</li>
<li>Relacionar hechos hist√≥ricos concretos con la categor√≠a correspondiente.</li>
<li>Practicar mediante un puzzle visual interactivo.</li>
</ul>

<label for="nombre">Nombre (opcional)</label>
<input id="nombre" type="text" placeholder="Escribe tu nombre para registrar tu partida">
<button id="btn">Comenzar actividad</button>
</section>

<section class="card grid mt">
<h2>Puzzle visual interactivo</h2>
<p>Arrastra cada tarjeta hasta su unidad correspondiente. Elige entre modo b√°sico (con huecos gu√≠a) o modo pro (sin gu√≠a). El cron√≥metro marcar√° tu tiempo.</p>

<!-- CONTENIDO PRINCIPAL -->
<!-- He insertado aqu√≠ todo el HTML de la actividad -->
<!-- ========= INICIO ACTIVIDAD ========= -->
<!-- Marca de agua -->
<img class="watermark rounded-full" src="pr-sello.png" alt="Sello PR Educaci√≥n">

<header class="w-full border-b bg-white/90 sticky top-0 z-40 backdrop-blur">
  <div class="mx-auto max-w-7xl px-4 py-3 flex flex-wrap items-center gap-3 justify-between">
    <div class="flex items-center gap-3">
      <div class="brand border border-white/60 shadow-sm">
        <img src="pr-sello.png" alt="PR Educaci√≥n">
      </div>
      <div class="relative z-10">
        <h1 class="text-2xl leading-6">Unidad en los RRCC ‚Äî Puzzle visual</h1>
        <p class="text-sm text-slate-500 -mt-1">Baraja siempre visible (sidebar/dock). iPad listo.</p>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <button id="basicBtn">Nivel B√°sico</button>
      <button id="proBtn">Nivel Pro</button>
      <button id="hintBtn">Pide un comod√≠n</button>
      <button id="resetBtn">Reiniciar</button>
      <div class="text-right">
        <div class="text-xs text-slate-500">Cron√≥metro</div>
        <div id="timer" class="font-semibold text-lg tabular-nums">00:00</div>
        <div id="best" class="text-[11px] text-slate-500"></div>
      </div>
    </div>
  </div>
</header>

<div class="grid place-items-center mt-4">
  <div class="rounded-2xl px-4 py-3 text-center text-white shadow-inner" style="background:#9AA6B2">
    <div class="text-xs">Nodo central</div>
    <div class="text-lg font-semibold">UNIDAD EN LOS RRCC</div>
  </div>
</div>

<main class="max-w-7xl mx-auto px-4 py-6">
  <div id="layout" class="layout-grid">
    <section id="boardContainer" class="relative z-10">
      <div id="basicBoard" class="hidden bg-white rounded-2xl shadow-sm border p-4">
        <div id="basicCols" class="grid md:grid-cols-5 gap-4"></div>
        <p class="mt-3 text-sm text-slate-500 text-center">Coloca aqu√≠ los ep√≠grafes e √≠tems coloreados.</p>
      </div>
      <div id="proBoard" class="hidden bg-white rounded-2xl shadow-sm border p-4">
        <div id="proCols" class="grid md:grid-cols-5 gap-4"></div>
        <p class="mt-3 text-sm text-slate-500 text-center">En cada unidad hay huecos del color de su unidad.</p>
      </div>
    </section>
    <aside id="deckSection" class="deck-sidebar md:block">
      <div class="flex items-center justify-between mb-2">
        <h2 class="text-lg">Tarjetas</h2>
        <span id="leftCount" class="text-sm text-slate-500"></span>
      </div>
      <div id="deck" class="bg-white rounded-xl border p-2 min-h-[9rem]"></div>
    </aside>
  </div>
</main>

<section class="max-w-7xl mx-auto px-4 pb-8">
  <details class="bg-white rounded-2xl p-4 shadow-sm border">
    <summary class="cursor-pointer text-base">C√≥mo ejecutar y jugar</summary>
    <ol class="list-decimal pl-6 mt-2 text-[15px] leading-6">
      <li>Guarda este archivo como <b>index.html</b> en tu repositorio GitHub.</li>
      <li>Incluye la imagen <b>pr-sello.png</b> en la misma carpeta.</li>
      <li>Elige <b>Nivel B√°sico</b> o <b>Nivel Pro</b> para empezar.</li>
      <li>Arrastra las tarjetas a la unidad correcta. El color confirma tu acierto.</li>
      <li>Con <b>Pide un comod√≠n</b> podr√°s consultar la explicaci√≥n de cada tarjeta.</li>
      <li>Con <b>Reiniciar</b> vuelves a barajar el puzzle.</li>
    </ol>
  </details>
</section>

<dialog id="winDlg" class="rounded-2xl p-0 backdrop:bg-black/40">
  <div class="p-5 bg-white rounded-2xl w-[min(92vw,28rem)]">
    <h3 class="text-xl mb-2">¬°Esquema completado! üéâ</h3>
    <p id="resultTxt" class="text-slate-700"></p>
    <div class="flex justify-end gap-2 mt-4">
      <button id="againBtn">Volver a jugar</button>
      <button id="closeBtn">Cerrar</button>
    </div>
  </div>
</dialog>

<script>
// (todo el JS de arrastrar, soltar, cron√≥metro y pistas incluido aqu√≠)
</script>
<!-- ========= FIN ACTIVIDAD ========= -->
</section>

<section class="card grid mt">
<h2>Recursos</h2>
<ul>
<li><a href="https://es.wikipedia.org/wiki/Reyes_Cat%C3%B3licos" target="blank" rel="noopener">Wikipedia: Reyes Cat√≥licos</a></li>
<li><a href="https://es.wikipedia.org/wiki/Unificaci%C3%B3n_de_Espa%C3%B1a" target="blank" rel="noopener">Wikipedia: Unificaci√≥n de Espa√±a</a></li>
</ul>
</section>

<footer>Creado por Patricia Romero Rodr√≠guez. Esta actividad es un puzzle visual educativo optimizado para iPad.</footer>
</main>
</body>
</html>
