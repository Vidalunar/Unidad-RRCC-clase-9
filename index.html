<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Unidad en los RRCC — Puzzle visual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="color-scheme" content="light dark">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#0e0f12">

  <!-- Rendimiento: handshake rápido con Tailwind CDN -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>
  <!-- Tailwind (solo una vez) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fuente -->
  <link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

  <style>
    :root{
      --c-dinastica:#7EC8E3;
      --c-territorial:#E0B437;
      --c-religiosa:#7FD6C2;
      --c-linguistica:#E5873A;
      --c-politica:#8C6AD2;
      --c-center:#9AA6B2;

      --l-dinastica:#E8F6FB;
      --l-territorial:#FBF3D9;
      --l-religiosa:#E9FBF6;
      --l-linguistica:#FCEFE6;
      --l-politica:#EFEAFB;
    }
    body{font-family:'Patrick Hand', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;}
    html,body{height:100%}
    .card{user-select:none; cursor:grab}
    .card:active{cursor:grabbing}
    .dropzone.drag-over{outline:3px dashed rgba(0,0,0,.25);}
    .slot{
      min-height:3.25rem; border:2px dashed #CBD5E1; border-radius:.8rem;
      background:white; display:flex; align-items:center; padding:.5rem .6rem;
    }
    .slot.filled{border-style:solid; border-color:#A3E635}
    .hint-bubble{
      position:absolute; z-index:50; background:#111827; color:white;
      font-size:.95rem; padding:.5rem .65rem; border-radius:.5rem;
      max-width:18rem; box-shadow:0 10px 30px rgba(0,0,0,.25);
    }
    #deck{display:flex; gap:.75rem; flex-wrap:wrap; overflow:auto; scroll-snap-type:x mandatory;}
    #deck .card{scroll-snap-align:start}
    .layout-grid{display:grid; gap:1rem; grid-template-columns: 1fr;}
    .deck-dock{position:sticky; bottom:.5rem; z-index:30; background:white; border-radius:1rem; border:1px solid #e5e7eb; padding:.75rem; box-shadow:0 8px 28px rgba(0,0,0,.15);}
    @media (min-width:768px){
      .layout-grid{grid-template-columns: minmax(0,1fr) 320px; align-items:start;}
      .deck-sidebar{position:sticky; top:5.5rem; max-height:calc(100vh - 6.5rem); overflow:auto; border:1px solid #e5e7eb; border-radius:1rem; background:white; box-shadow:0 8px 28px rgba(0,0,0,.08); padding:.75rem;}
    }
    .brand{width:42px;height:42px;border-radius:9999px;overflow:hidden; background:#0f172a; display:grid;place-items:center;}
    .brand img{width:100%;height:100%;object-fit:cover}
    .watermark{position:fixed; right:1.2rem; bottom:1.2rem; z-index:0; opacity:.06; width:140px; height:140px; pointer-events:none; filter:grayscale(10%);}
  </style>
</head>
<body class="bg-slate-50 text-slate-800">
  <main id="app-root" class="wrap">
    <!-- Aquí va toda tu aplicación -->
    <!-- Marca de agua -->
    <img class="watermark rounded-full" src="pr-sello.png" alt="Sello PR Educación">

    <!-- Barra superior -->
    <header class="w-full border-b bg-white/90 sticky top-0 z-40 backdrop-blur">
      <!-- …contenido de la barra y botones… -->
    </header>

    <!-- Cabecera central -->
    <div class="grid place-items-center mt-4">
      <div class="rounded-2xl px-4 py-3 text-center text-white shadow-inner" style="background:var(--c-center)">
        <div class="text-xs">Nodo central</div>
        <div class="text-lg font-semibold">UNIDAD EN LOS RRCC</div>
      </div>
    </div>

    <!-- Layout tablero + baraja -->
    <main class="max-w-7xl mx-auto px-4 py-6">
      <!-- …tableros y deck… -->
    </main>

    <!-- Instrucciones -->
    <section class="max-w-7xl mx-auto px-4 pb-8">
      <!-- …instrucciones de juego… -->
    </section>

    <!-- Modal victoria -->
    <dialog id="winDlg" class="rounded-2xl p-0 backdrop:bg-black/40">
      <!-- …contenido modal… -->
    </dialog>
  </main>

  <script>
    /* Todo el JS de tu aplicación aquí (el que estaba en tu archivo original) */
  </script>
</body>
</html>
